{"ast":null,"code":"\"use strict\";\n\nimport _classCallCheck from \"/Users/mymac/Documents/GitHub/Cryptoapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/mymac/Documents/GitHub/Cryptoapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/mymac/Documents/GitHub/Cryptoapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/mymac/Documents/GitHub/Cryptoapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nvar logger = new Logger(version);\nimport { UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\nvar defaultApplicationId = \"62e1ad51b37b8e00394bda3b\";\nexport var PocketProvider = /*#__PURE__*/function (_UrlJsonRpcProvider) {\n  _inherits(PocketProvider, _UrlJsonRpcProvider);\n\n  var _super = _createSuper(PocketProvider);\n\n  function PocketProvider() {\n    _classCallCheck(this, PocketProvider);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PocketProvider, [{\n    key: \"isCommunityResource\",\n    value: function isCommunityResource() {\n      return this.applicationId === defaultApplicationId;\n    }\n  }], [{\n    key: \"getApiKey\",\n    value: function getApiKey(apiKey) {\n      var apiKeyObj = {\n        applicationId: null,\n        loadBalancer: true,\n        applicationSecretKey: null\n      }; // Parse applicationId and applicationSecretKey\n\n      if (apiKey == null) {\n        apiKeyObj.applicationId = defaultApplicationId;\n      } else if (typeof apiKey === \"string\") {\n        apiKeyObj.applicationId = apiKey;\n      } else if (apiKey.applicationSecretKey != null) {\n        apiKeyObj.applicationId = apiKey.applicationId;\n        apiKeyObj.applicationSecretKey = apiKey.applicationSecretKey;\n      } else if (apiKey.applicationId) {\n        apiKeyObj.applicationId = apiKey.applicationId;\n      } else {\n        logger.throwArgumentError(\"unsupported PocketProvider apiKey\", \"apiKey\", apiKey);\n      }\n\n      return apiKeyObj;\n    }\n  }, {\n    key: \"getUrl\",\n    value: function getUrl(network, apiKey) {\n      var host = null;\n\n      switch (network ? network.name : \"unknown\") {\n        case \"goerli\":\n          host = \"eth-goerli.gateway.pokt.network\";\n          break;\n\n        case \"homestead\":\n          host = \"eth-mainnet.gateway.pokt.network\";\n          break;\n\n        case \"kovan\":\n          host = \"poa-kovan.gateway.pokt.network\";\n          break;\n\n        case \"matic\":\n          host = \"poly-mainnet.gateway.pokt.network\";\n          break;\n\n        case \"maticmum\":\n          host = \"polygon-mumbai-rpc.gateway.pokt.network\";\n          break;\n\n        case \"rinkeby\":\n          host = \"eth-rinkeby.gateway.pokt.network\";\n          break;\n\n        case \"ropsten\":\n          host = \"eth-ropsten.gateway.pokt.network\";\n          break;\n\n        default:\n          logger.throwError(\"unsupported network\", Logger.errors.INVALID_ARGUMENT, {\n            argument: \"network\",\n            value: network\n          });\n      }\n\n      var url = \"https://\".concat(host, \"/v1/lb/\").concat(apiKey.applicationId);\n      var connection = {\n        headers: {},\n        url: url\n      };\n\n      if (apiKey.applicationSecretKey != null) {\n        connection.user = \"\";\n        connection.password = apiKey.applicationSecretKey;\n      }\n\n      return connection;\n    }\n  }]);\n\n  return PocketProvider;\n}(UrlJsonRpcProvider);","map":{"version":3,"sources":["../src.ts/pocket-provider.ts"],"names":[],"mappings":"AAAA;;;;;;AAKA,SAAS,MAAT,QAAuB,uBAAvB;AACA,SAAS,OAAT,QAAwB,YAAxB;AACA,IAAM,MAAM,GAAG,IAAI,MAAJ,CAAW,OAAX,CAAf;AAEA,SAAS,kBAAT,QAAmC,yBAAnC;AAEA,IAAM,oBAAoB,GAAG,0BAA7B;AAGA,WAAa,cAAb;EAAA;;EAAA;;EAAA;IAAA;;IAAA;EAAA;;EAAA;IAAA;IAAA,OA2EI,+BAAmB;MACf,OAAQ,KAAK,aAAL,KAAuB,oBAA/B;IACH;EA7EL;IAAA;IAAA,OAKI,mBAAiB,MAAjB,EAA4B;MACxB,IAAM,SAAS,GAAmF;QAC9F,aAAa,EAAE,IAD+E;QAE9F,YAAY,EAAE,IAFgF;QAG9F,oBAAoB,EAAE;MAHwE,CAAlG,CADwB,CAOxB;;MACA,IAAI,MAAM,IAAI,IAAd,EAAoB;QAChB,SAAS,CAAC,aAAV,GAA0B,oBAA1B;MAEH,CAHD,MAGO,IAAI,OAAQ,MAAR,KAAoB,QAAxB,EAAkC;QACrC,SAAS,CAAC,aAAV,GAA0B,MAA1B;MAEH,CAHM,MAGA,IAAI,MAAM,CAAC,oBAAP,IAA+B,IAAnC,EAAyC;QAC5C,SAAS,CAAC,aAAV,GAA0B,MAAM,CAAC,aAAjC;QACA,SAAS,CAAC,oBAAV,GAAiC,MAAM,CAAC,oBAAxC;MAEH,CAJM,MAIA,IAAI,MAAM,CAAC,aAAX,EAA0B;QAC7B,SAAS,CAAC,aAAV,GAA0B,MAAM,CAAC,aAAjC;MAEH,CAHM,MAGA;QACH,MAAM,CAAC,kBAAP,CAA0B,mCAA1B,EAA+D,QAA/D,EAAyE,MAAzE;MACH;;MAED,OAAO,SAAP;IACH;EA/BL;IAAA;IAAA,OAiCI,gBAAc,OAAd,EAAgC,MAAhC,EAA2C;MACvC,IAAI,IAAI,GAAW,IAAnB;;MACA,QAAQ,OAAO,GAAG,OAAO,CAAC,IAAX,GAAkB,SAAjC;QACI,KAAK,QAAL;UACI,IAAI,GAAG,iCAAP;UACA;;QACJ,KAAK,WAAL;UACI,IAAI,GAAG,kCAAP;UACA;;QACJ,KAAK,OAAL;UACI,IAAI,GAAG,gCAAP;UACA;;QACJ,KAAK,OAAL;UACI,IAAI,GAAG,mCAAP;UACA;;QACJ,KAAK,UAAL;UACI,IAAI,GAAG,yCAAP;UACA;;QACJ,KAAK,SAAL;UACI,IAAI,GAAG,kCAAP;UACA;;QACJ,KAAK,SAAL;UACI,IAAI,GAAG,kCAAP;UACA;;QACJ;UACI,MAAM,CAAC,UAAP,CAAkB,qBAAlB,EAAyC,MAAM,CAAC,MAAP,CAAc,gBAAvD,EAAyE;YACrE,QAAQ,EAAE,SAD2D;YAErE,KAAK,EAAE;UAF8D,CAAzE;MAvBR;;MA6BA,IAAM,GAAG,qBAAgB,IAAhB,oBAAgC,MAAM,CAAC,aAAvC,CAAT;MAEA,IAAM,UAAU,GAAmB;QAAE,OAAO,EAAE,EAAX;QAAgB,GAAG,EAAH;MAAhB,CAAnC;;MACA,IAAI,MAAM,CAAC,oBAAP,IAA+B,IAAnC,EAAyC;QACrC,UAAU,CAAC,IAAX,GAAkB,EAAlB;QACA,UAAU,CAAC,QAAX,GAAsB,MAAM,CAAC,oBAA7B;MACH;;MAED,OAAO,UAAP;IACH;EAzEL;;EAAA;AAAA,EAAoC,kBAApC","sourceRoot":"","sourcesContent":["\"use strict\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\nconst defaultApplicationId = \"62e1ad51b37b8e00394bda3b\";\nexport class PocketProvider extends UrlJsonRpcProvider {\n    static getApiKey(apiKey) {\n        const apiKeyObj = {\n            applicationId: null,\n            loadBalancer: true,\n            applicationSecretKey: null\n        };\n        // Parse applicationId and applicationSecretKey\n        if (apiKey == null) {\n            apiKeyObj.applicationId = defaultApplicationId;\n        }\n        else if (typeof (apiKey) === \"string\") {\n            apiKeyObj.applicationId = apiKey;\n        }\n        else if (apiKey.applicationSecretKey != null) {\n            apiKeyObj.applicationId = apiKey.applicationId;\n            apiKeyObj.applicationSecretKey = apiKey.applicationSecretKey;\n        }\n        else if (apiKey.applicationId) {\n            apiKeyObj.applicationId = apiKey.applicationId;\n        }\n        else {\n            logger.throwArgumentError(\"unsupported PocketProvider apiKey\", \"apiKey\", apiKey);\n        }\n        return apiKeyObj;\n    }\n    static getUrl(network, apiKey) {\n        let host = null;\n        switch (network ? network.name : \"unknown\") {\n            case \"goerli\":\n                host = \"eth-goerli.gateway.pokt.network\";\n                break;\n            case \"homestead\":\n                host = \"eth-mainnet.gateway.pokt.network\";\n                break;\n            case \"kovan\":\n                host = \"poa-kovan.gateway.pokt.network\";\n                break;\n            case \"matic\":\n                host = \"poly-mainnet.gateway.pokt.network\";\n                break;\n            case \"maticmum\":\n                host = \"polygon-mumbai-rpc.gateway.pokt.network\";\n                break;\n            case \"rinkeby\":\n                host = \"eth-rinkeby.gateway.pokt.network\";\n                break;\n            case \"ropsten\":\n                host = \"eth-ropsten.gateway.pokt.network\";\n                break;\n            default:\n                logger.throwError(\"unsupported network\", Logger.errors.INVALID_ARGUMENT, {\n                    argument: \"network\",\n                    value: network\n                });\n        }\n        const url = `https:/\\/${host}/v1/lb/${apiKey.applicationId}`;\n        const connection = { headers: {}, url };\n        if (apiKey.applicationSecretKey != null) {\n            connection.user = \"\";\n            connection.password = apiKey.applicationSecretKey;\n        }\n        return connection;\n    }\n    isCommunityResource() {\n        return (this.applicationId === defaultApplicationId);\n    }\n}\n//# sourceMappingURL=pocket-provider.js.map"]},"metadata":{},"sourceType":"module"}